
# Register client secret into Elasticsearch
echo 'y' | echo 'MXi0KY8vKJcf3f8qztG0pcC6Tckb5SeL' | bin/elasticsearch-keystore add xpack.security.authc.realms.oidc.oidc1.rp.client_secret

Vim 


# Generate jwkset https://mkjwk.org/

# jwkset_path needs https else local file


# TODO
1. Make Elasticsearch key store persistent



Outstanding

Unable to validate JWT 
Request scope + jwt


http://keycloak:8080/auth/realms/elasticsearch/protocol/openid-connect/certs
http://keycloak:8080/auth/realms/elasticsearch
http://keycloak:8080/auth/realms/elasticsearch/.well-known/openid-configuration